<!DOCTYPE html>
<html>
<head>
    <title>Symbol Case Test</title>
</head>
<body>
    <h1>Symbol Case Handling Test</h1>
    <div id="test-results"></div>
    
    <script>
        // Test the symbol normalization logic
        function normalizeSymbol(symbol) {
            return symbol.endsWith('.cash') 
                ? symbol.slice(0, -5).toUpperCase() + '.cash'
                : symbol.toUpperCase();
        }
        
        // Test cases
        const testCases = [
            { input: 'jp225.cash', expected: 'JP225.cash' },
            { input: 'JP225.cash', expected: 'JP225.cash' },
            { input: 'JP225.CASH', expected: 'JP225.cash' },
            { input: 'eurusd', expected: 'EURUSD' },
            { input: 'EURUSD', expected: 'EURUSD' },
            { input: 'us30.cash', expected: 'US30.cash' },
            { input: 'xauusd', expected: 'XAUUSD' }
        ];
        
        const results = document.getElementById('test-results');
        let allPassed = true;
        
        testCases.forEach((test, index) => {
            const result = normalizeSymbol(test.input);
            const passed = result === test.expected;
            allPassed = allPassed && passed;
            
            results.innerHTML += `
                <div style="color: ${passed ? 'green' : 'red'}">
                    Test ${index + 1}: "${test.input}" → "${result}" 
                    ${passed ? '✓' : `✗ (expected "${test.expected}")`}
                </div>
            `;
        });
        
        results.innerHTML += `<br><strong>Overall: ${allPassed ? 'All tests passed!' : 'Some tests failed!'}</strong>`;
    </script>
</body>
</html>